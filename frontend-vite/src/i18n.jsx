import React, { createContext, useContext, useState, useCallback } from 'react';

const translations = {
  es: {
    // Header / Nav
    'nav.dashboard': 'Dashboard',
    'nav.profile': 'Mi Perfil',
    'nav.admin': 'Panel Admin',
    'nav.logout': 'Cerrar SesiÃ³n',
    'nav.login': 'Iniciar SesiÃ³n',

    // Landing
    'landing.title': 'Competencias Activas Hoy',
    'landing.subtitle': 'Cierre diario a las 21:00 UTC',
    'landing.timeLeft': 'Tiempo restante',
    'landing.loading': 'Cargando competencias...',
    'landing.entry': 'Entrada',
    'landing.virtualCapital': 'Capital virtual',
    'landing.participants': 'Participantes',
    'landing.prizePool': 'Prize pool',
    'landing.signupBasic': 'INSCRIBIRSE BASIC',
    'landing.signupMedium': 'INSCRIBIRSE MEDIUM',
    'landing.signupPremium': 'INSCRIBIRSE PREMIUM',
    'landing.signupTitle': 'Inscribirse en',
    'landing.rules': 'Reglas de las Competencias',
    'landing.rulesSubtitle': 'Holypot Trading',
    'landing.viewRules': 'Ver reglas completas',
    'landing.terms': 'TÃ©rminos y Condiciones',
    'landing.privacy': 'PolÃ­tica de Privacidad',
    'landing.rulesLink': 'Reglas Competencias',
    'landing.footer': 'Competencias de habilidad, no gambling. Edad mÃ­nima 18 aÃ±os.',
    'landing.tagline': 'Compite por premios diarios',
    'landing.totalPaid': 'Total premios pagados',
    'landing.winnersTitle': 'Ganadores',
    'landing.winnersRotate': '(cambia cada hora)',
    'landing.noWinners': 'PrÃ³ximamente los primeros ganadores reales',
    'landing.beFirst': 'Â¡SÃ© el primero en aparecer aquÃ­!',

    // How It Works
    'howItWorks.mainTitle': 'Â¿CÃ³mo Funciona?',
    'howItWorks.mainSubtitle': 'Compite por habilidad, gana premios reales en 4 sencillos pasos',
    'howItWorks.step1Title': 'InscrÃ­bete',
    'howItWorks.step1Desc': 'Crea tu cuenta, verifica tu email y elige tu nivel de competencia',
    'howItWorks.step2Title': 'Paga & Selecciona Red',
    'howItWorks.step2Desc': 'Elige tu red USDT (Polygon, TRC-20 o Ethereum) y realiza el pago',
    'howItWorks.step3Title': 'Compite',
    'howItWorks.step3Desc': 'Abre trades en divisas, criptos y commodities en tiempo real',
    'howItWorks.step4Title': 'Gana & Retira',
    'howItWorks.step4Desc': 'Si eres de los 3 primeros, recibe tu premio en tu wallet',
    'howItWorks.featuresTitle': 'Â¿Por quÃ© Holypot?',
    'howItWorks.feature1Title': 'Basado en Habilidad',
    'howItWorks.feature1Desc': 'No es gambling. Gana demostrando tu destreza en trading',
    'howItWorks.feature2Title': 'Auditable',
    'howItWorks.feature2Desc': 'Todos los trades y premios son transparentes y verificables',
    'howItWorks.feature3Title': 'Premios Reales',
    'howItWorks.feature3Desc': 'Gana USDT reales que se transfieren directamente a tu wallet',
    'howItWorks.ctaButton': 'Ver Competencias Activas',

    // Forms
    'form.email': 'Email',
    'form.password': 'ContraseÃ±a',
    'form.confirmPassword': 'Confirmar contraseÃ±a',
    'form.wallet': 'Wallet USDT Polygon (obligatorio)',
    'form.nickname': 'Nickname (obligatorio â€“ visible en ranking)',
    'form.nicknamePlaceholder': 'ej: PipKiller',
    'form.fullName': 'Nombre completo (opcional)',
    'form.country': 'PaÃ­s (opcional)',
    'form.acceptTerms': 'Acepto los',
    'form.termsLink': 'tÃ©rminos y condiciones',
    'form.cancel': 'Cancelar',
    'form.payAndCompete': 'PAGAR Y COMPETIR',
    'form.login': 'INICIAR SESIÃ“N',
    'form.loggingIn': 'Iniciando...',
    'form.noAccount': 'Â¿No tienes cuenta?',
    'form.registerHere': 'RegÃ­strate aquÃ­',
    'form.loginSubtitle': 'Inicia sesiÃ³n y vuelve a competir',

    // Dashboard
    'dash.level': 'Nivel',
    'dash.participants': 'Participantes',
    'dash.timeLeft': 'Tiempo restante',
    'dash.prizePool': 'Prize pool',
    'dash.balance': 'Saldo live',
    'dash.aiAdvice': 'Consejo IA del dÃ­a (by Grok)',
    'dash.aiAdvicePlaceholder': 'Compite hoy para recibir tu consejo personalizado maÃ±ana',
    'dash.newTrade': 'New Trade',
    'dash.currentPrice': 'Precio actual',
    'dash.loading': 'Cargando...',
    'dash.symbol': 'Symbol',
    'dash.direction': 'Direction',
    'dash.lotSize': 'LotSize',
    'dash.takeProfit': 'Take Profit (opcional)',
    'dash.stopLoss': 'Stop Loss (opcional)',
    'dash.targetPrice': 'Precio objetivo',
    'dash.openTrade': 'ABRIR TRADE',
    'dash.viewOnly': 'MODO SOLO VISTA',
    'dash.riskTooHigh': 'RIESGO DEMASIADO ALTO',
    'dash.positions': 'Positions Abiertas',
    'dash.noPositions': 'No positions abiertas â€“ abre tu primer trade',
    'dash.adminNoPositions': 'Modo admin - Sin posiciones activas',
    'dash.riskTotal': 'Risk total abierto',
    'dash.ranking': 'Ranking Live Top 10',
    'dash.selectRanking': 'Ver ranking de competencia activa:',
    'dash.loadingRanking': 'Cargando ranking...',
    'dash.adminMode': 'MODO ADMIN - Solo visualizaciÃ³n. Inicia sesiÃ³n como usuario para operar.',
    'dash.viewMode': 'Modo visualizaciÃ³n - Sin competencia activa',
    'dash.adminNoTrades': 'No puedes abrir trades en modo admin. Inicia sesiÃ³n como usuario normal.',
    'dash.riskReal': 'Riesgo REAL',
    'dash.slDistance': 'Distancia SL',
    'dash.highRisk': 'Â¡Alto riesgo!',
    'dash.suggested': 'Sugerido',
    'dash.forRisk': 'para',
    'dash.addSL': 'AÃ±ade Stop Loss para ver el riesgo real',
    'dash.calculatingRisk': 'Calculando riesgo...',
    'dash.chart': 'GrÃ¡fico',
    'dash.live': 'Live',

    // Positions table
    'pos.symbol': 'Symbol',
    'pos.direction': 'Direction',
    'pos.lotSize': 'LotSize (% risk)',
    'pos.entryPrice': 'Entry Price',
    'pos.pnl': 'P&L Live',
    'pos.tp': 'TP (pips)',
    'pos.sl': 'SL (pips)',
    'pos.action': 'Action',
    'pos.edit': 'Edit',
    'pos.close': 'CLOSE',

    // Ranking table
    'rank.spot': 'Spot #',
    'rank.trader': 'Trader',
    'rank.return': 'Retorno %',
    'rank.capital': 'Capital Live',
    'rank.openPos': 'Open Positions',
    'rank.prize': 'Premio Proyectado',

    // Profile
    'profile.hello': 'Â¡Hola,',
    'profile.position': 'EstÃ¡s',
    'profile.inCompetition': 'en tu competencia actual',
    'profile.bestRanking': 'Mejor ranking histÃ³rico',
    'profile.bias': 'Sesgo comportamiento',
    'profile.ratherBull': 'Rather Bull',
    'profile.ratherBear': 'Rather Bear',
    'profile.buys': 'Compras',
    'profile.sells': 'Ventas',
    'profile.totalOps': 'Operaciones totales',
    'profile.dailyReturn': 'Rendimiento por dÃ­a de trading',
    'profile.historySoon': 'Historial real pronto â€“ Â¡compite mÃ¡s!',
    'profile.profitability': 'Rentabilidad',
    'profile.hitRatio': 'Ratio de aciertos',
    'profile.sessionSuccess': 'Tasas de Ã©xito por sesiÃ³n',
    'profile.topInstruments': 'Instrumentos mÃ¡s operados',
    'profile.noTrades': 'No trades aÃºn â€“ Â¡abre tu primer trade!',
    'profile.history': 'Historial competencias',
    'profile.noHistory': 'No historial aÃºn â€“ Â¡compite hoy!',
    'profile.date': 'Fecha',
    'profile.level': 'Level',
    'profile.returnPct': 'Retorno %',
    'profile.positionCol': 'PosiciÃ³n',
    'profile.prizeWon': 'Premio ganado',
    'profile.loadingProfile': 'Cargando perfil...',

    // Win modal
    'win.congrats': 'Â¡FELICIDADES, GANASTE!',
    'win.position': 'PosiciÃ³n',
    'win.inCompetition': 'en competencia',
    'win.date': 'Fecha',
    'win.paymentConfirmed': 'Pago confirmado en blockchain',
    'win.paymentId': 'Payment ID',
    'win.walletMsg': 'Â¡El USDT ya estÃ¡ en tu wallet TRC20! Revisa tu billetera.',
    'win.continue': 'Â¡Genial, seguir compitiendo!',

    // Rules section titles
    'rules.title': 'Reglas de las Competencias â€“ Holypot Trading ðŸš€',
    'rules.backBtn': 'â† Volver a Holypot Trading',
    'rules.type': 'Tipo de competencia',
    'rules.typeDesc': 'Competencias diarias skill-based 100% en trading simulado de divisas (FX), pares mayores, oro e Ã­ndices seleccionados. El resultado depende exclusivamente de la habilidad, estrategia y gestiÃ³n de riesgo del participante. No existe componente de azar.',
    'rules.levels': 'Niveles de competencia',
    'rules.levelsIntro': 'Existen tres niveles diarios independientes y abiertos:',
    'rules.levelsFooter': 'Cada nivel tiene su propia competencia diaria y prize pool independiente, generado exclusivamente por las inscripciones de los usuarios.',
    'rules.schedule': 'Horario diario (UTC)',
    'rules.schedule_open': 'Apertura: 00:00 UTC.',
    'rules.schedule_min': 'MÃ­nimo requerido: 5 participantes pagados para que la competencia se active y sea vÃ¡lida.',
    'rules.schedule_last': 'Ãšltima inscripciÃ³n permitida: 18:00 UTC.',
    'rules.schedule_close': 'Cierre definitivo: 21:00 UTC.',
    'rules.schedule_rollover': 'Si a las 18:00 UTC no se alcanzan 5 participantes, las entradas pagadas se trasladan automÃ¡ticamente y sin costo adicional al mismo nivel del dÃ­a siguiente (rollover). No hay devoluciÃ³n de la entrada.',
    'rules.payment': 'InscripciÃ³n y pago',
    'rules.paymentDesc': 'El pago se realiza exclusivamente en USDT (red TRC20) a travÃ©s del procesador NOWPayments. Una vez confirmado el pago, la inscripciÃ³n es definitiva y no reembolsable (salvo rollover por falta de mÃ­nimo).',
    'rules.distribution': 'Prize pool y distribuciÃ³n',
    'rules.distributionFormula': 'El prize pool de cada nivel se calcula como: total de entradas recolectadas âˆ’ comisiÃ³n de la plataforma (~10%).',
    'rules.distributionStandard': 'DistribuciÃ³n estÃ¡ndar (top 3):',
    'rules.tradingRules': 'Reglas de trading simulado',
    'rules.trading_data': 'Datos en tiempo real proporcionados por Finnhub y/o OANDA.',
    'rules.trading_longshort': 'Operaciones LONG/SHORT con precio de entrada exacto.',
    'rules.trading_tpsl': 'Take Profit (TP) y Stop Loss (SL) opcionales y editables.',
    'rules.trading_lotsize': 'TamaÃ±o de lote ajustable (porcentaje de riesgo en vivo).',
    'rules.trading_minclosed': 'Requisito mÃ­nimo: cerrar al menos 1 operaciÃ³n durante la competencia para aparecer en el ranking.',
    'rules.calcReturn': 'CÃ¡lculo de rendimiento',
    'rules.calcFormula': 'Retorno % = (capital final âˆ’ capital inicial) / capital inicial Ã— 100.',
    'rules.tiebreak': 'MÃ©todos de desempate (orden secuencial)',
    'rules.tiebreakIntro': 'En caso de empate exacto en retorno %:',
    'rules.tiebreak1': 'Menor riesgo promedio utilizado (suma total de lot size o % riesgo promedio).',
    'rules.tiebreak2': 'Menor cantidad de operaciones realizadas.',
    'rules.tiebreak3': 'Menor drawdown mÃ¡ximo (%) durante la competencia.',
    'rules.tiebreak4': 'Timestamp mÃ¡s temprano de inscripciÃ³n pagada.',
    'rules.prizePayout': 'Pago de premios',
    'rules.prizePayoutDesc': 'Los premios se abonan automÃ¡ticamente (o manualmente en fase inicial) en USDT a la wallet del usuario inmediatamente despuÃ©s del cierre de la competencia vÃ¡lida.',
    'rules.prohibited': 'Conducta prohibida',
    'rules.prohibitedDesc': 'Queda estrictamente prohibido el uso de bots, cuentas mÃºltiples, colusiÃ³n, manipulaciÃ³n de resultados o cualquier conducta fraudulenta. La Plataforma se reserva el derecho de descalificar participantes y retener premios en caso de incumplimiento.',
    'rules.disclaimer': 'Estas reglas forman parte integrante de los TÃ©rminos y Condiciones de Uso de Holypot Trading SAS y pueden ser modificadas con notificaciÃ³n previa.',
    'rules.platformDesc': 'La Plataforma Holypot Trading actÃºa exclusivamente como proveedor neutral de infraestructura tÃ©cnica, Ã¡rbitro imparcial y facilitador de pagos en escrow. No organiza ni promueve competencias directamente; facilita competencias diarias abiertas por nivel que se generan y activan Ãºnicamente cuando los usuarios alcanzan el mÃ­nimo requerido de participantes pagados.',
    'rules.lastUpdate': 'Ãšltima actualizaciÃ³n: 25 de enero de 2026',

    // Terms and Conditions
    'terms.title': 'TÃ©rminos y Condiciones de Uso â€“ Holypot Trading',
    'terms.lastUpdate': 'Ãšltima actualizaciÃ³n: 25 de enero de 2026',
    'terms.backBtn': 'â† Volver a Holypot Trading',
    'terms.sec1_title': '1. AceptaciÃ³n de los TÃ©rminos',
    'terms.sec1_content': 'Al registrarte, acceder o utilizar la plataforma Holypot Trading (en adelante, la "Plataforma"), aceptas vincularte legalmente por estos TÃ©rminos y Condiciones. Si no estÃ¡s de acuerdo, no podrÃ¡s usar la Plataforma.',
    'terms.sec2_title': '2. Elegibilidad',
    'terms.sec2_li1': 'Debes tener al menos 18 aÃ±os de edad o la mayorÃ­a de edad legal en tu jurisdicciÃ³n.',
    'terms.sec2_li2': 'Quedan excluidos residentes de paÃ­ses o territorios donde las competencias con entrada pagada y premios en dinero estÃ©n prohibidas por la ley aplicable.',
    'terms.sec2_li3': 'La Plataforma se reserva el derecho de rechazar o cancelar cuentas en jurisdicciones restringidas.',
    'terms.sec3_title': '3. Naturaleza de la Plataforma',
    'terms.sec3_p1': 'Holypot Trading es una plataforma tecnolÃ³gica que permite competencias privadas de trading simulado de divisas (FX) basadas predominantemente en habilidad, conocimiento y estrategia.',
    'terms.sec3_p2': 'La Plataforma actÃºa exclusivamente como proveedor de infraestructura tÃ©cnica, Ã¡rbitro neutral y facilitador de pagos.',
    'terms.sec3_p3': 'No se trata de un juego de azar. No existe garantÃ­a de ganancias. El riesgo del usuario estÃ¡ limitado a la cuota de inscripciÃ³n.',
    'terms.sec4_title': '4. Registro y Cuenta',
    'terms.sec4_li1': 'Debes proporcionar informaciÃ³n veraz, completa y actualizada.',
    'terms.sec4_li2': 'Eres responsable de mantener la confidencialidad de tus credenciales.',
    'terms.sec4_li3': 'La Plataforma podrÃ¡ requerir verificaciÃ³n de identidad para retiros o cumplimiento legal.',
    'terms.sec5_title': '5. CreaciÃ³n, InscripciÃ³n y Reglas de las Competencias',
    'terms.sec5_li1': 'MÃ¡ximo 20 trades/dÃ­a por usuario.',
    'terms.sec5_li2': 'LotSize 0.01-1.0 (risk 0.1%-10%).',
    'terms.sec5_li3': 'Ã“rdenes market/limit/stop.',
    'terms.sec5_li4': 'Competencia activa con mÃ­nimo 5 participantes.',
    'terms.sec5_li5': 'Prohibido bots, multi-cuentas, colusiÃ³n o fraude.',
    'terms.sec6_title': '6. ComisiÃ³n de la Plataforma y DistribuciÃ³n de Premios',
    'terms.sec6_li1': 'ComisiÃ³n plataforma 8-10% sobre total cuotas.',
    'terms.sec6_li2': 'Prize pool restante: 1er 50%, 2do 30%, 3ro 20%.',
    'terms.sec6_li3': 'Premios reales USDT TRC20 directo wallet â€“ mismo dÃ­a cierre.',
    'terms.sec7_title': '7. Responsabilidad de los Usuarios',
    'terms.sec7_content': 'Cumplir leyes locales. Ganadores declaran/pagan impuestos aplicables.',
    'terms.sec8_title': '8. Retiros',
    'terms.sec8_content': 'Procesados vÃ­a mÃ©todos habilitados. MÃ­nimo retiro + comisiones externas. VerificaciÃ³n adicional posible.',
    'terms.sec9_title': '9. LimitaciÃ³n de Responsabilidad',
    'terms.sec9_content': 'Plataforma "tal cual" sin garantÃ­as. Responsabilidad mÃ¡xima limitada a comisiones pagadas Ãºltimos 30 dÃ­as.',
    'terms.sec10_title': '10. Propiedad Intelectual',
    'terms.sec10_content': 'Todo contenido, software, marcas y diseÃ±o propiedad exclusiva Holypot Trading.',
    'terms.sec11_title': '11. TerminaciÃ³n y SuspensiÃ³n',
    'terms.sec11_content': 'SuspensiÃ³n/cierre cuentas por incumplimiento, fraude o riesgo legal.',
    'terms.sec12_title': '12. Ley Aplicable y JurisdicciÃ³n',
    'terms.sec12_content': 'Leyes RepÃºblica de Colombia. Tribunales Pereira, Risaralda.',
    'terms.sec13_title': '13. Modificaciones',
    'terms.sec13_content': 'Modificaciones notificadas con 15 dÃ­as antelaciÃ³n por email/plataforma.',

    // Privacy Policy
    'privacy.title': 'PolÃ­tica de Privacidad â€“ Holypot Trading',
    'privacy.lastUpdate': 'Ãšltima actualizaciÃ³n: 25 de enero de 2026',
    'privacy.backBtn': 'â† Volver a Holypot Trading',
    'privacy.sec1_title': '1. InformaciÃ³n que recolectamos',
    'privacy.sec1_li1': 'Datos de registro: email, contraseÃ±a, wallet TRC20, nickname, fecha nacimiento (verificaciÃ³n edad mayor 18).',
    'privacy.sec1_li2': 'Datos transacciones: historial inscripciones, trades, payouts.',
    'privacy.sec1_li3': 'Datos tÃ©cnicos: IP, dispositivo, navegador (mejora servicio y seguridad).',
    'privacy.sec1_li4': 'Datos KYC opcional: documento identidad (solo retiros altos o requerimiento legal).',
    'privacy.sec2_title': '2. Finalidad del tratamiento',
    'privacy.sec2_li1': 'Prestar servicio plataforma (inscripciones, trading simulado, payouts reales).',
    'privacy.sec2_li2': 'Cumplir obligaciones legales (AML, reporte tributario si aplica).',
    'privacy.sec2_li3': 'Mejorar experiencia y seguridad (anÃ¡lisis uso, prevenciÃ³n fraude).',
    'privacy.sec2_li4': 'Comunicaciones operativas (confirmaciÃ³n pago, resultados competencia).',
    'privacy.sec2_li5': 'No marketing sin consentimiento expreso.',
    'privacy.sec3_title': '3. Base legal',
    'privacy.sec3_content': 'EjecuciÃ³n contrato (TÃ©rminos Uso), cumplimiento legal y consentimiento usuario.',
    'privacy.sec4_title': '4. ComparticiÃ³n datos',
    'privacy.sec4_intro': 'Solo compartimos con:',
    'privacy.sec4_li1': 'Procesadores pago (NOWPayments) y proveedores tÃ©cnicos.',
    'privacy.sec4_li2': 'Autoridades cuando ley lo exija.',
    'privacy.sec5_title': '5. Seguridad',
    'privacy.sec5_content': 'SSL, encriptaciÃ³n datos sensibles, acceso restringido, monitoreo constante.',
    'privacy.sec6_title': '6. Derechos titular',
    'privacy.sec6_content': 'Acceso, rectificaciÃ³n, supresiÃ³n, revocaciÃ³n consentimiento. EnvÃ­a solicitud a soporte@holypottrading.com.',
    'privacy.sec7_title': '7. Transferencias internacionales',
    'privacy.sec7_content': 'Proveedores (AWS, NOWPayments) fuera Colombia â€“ estÃ¡ndares protecciÃ³n equivalentes GDPR-like.',
    'privacy.sec8_title': '8. Cambios polÃ­tica',
    'privacy.sec8_content': 'Notificaremos modificaciones con antelaciÃ³n por email o plataforma.',

    // Admin
    'admin.title': 'Panel Admin Holypot',
    'admin.totalSignups': 'Inscripciones totales',
    'admin.revenue': 'Revenue plataforma',
    'admin.totalPool': 'Prize pool total',
    'admin.competitions': 'Competencias',
    'admin.users': 'Usuarios',
    'admin.payouts': 'Payouts',
    'admin.exportCSV': 'Exportar CSV pagos top 3',
    'admin.viewAsUser': 'Ver como usuario',
    'admin.noPayouts': 'No hay payouts aÃºn â€“ Â¡espera primeras competencias!',
    'admin.loadingAdmin': 'Cargando panel admin...',
    'admin.noData': 'Sin datos disponibles â€“ sesiÃ³n expirada o error de conexiÃ³n',
    'admin.userList': 'Lista completa de usuarios (capital live)',
    'admin.payoutsHistory': 'Historial Payouts (premios pagados)',

    // Common
    'common.usdt': 'USDT',
  },

  en: {
    // Header / Nav
    'nav.dashboard': 'Dashboard',
    'nav.profile': 'My Profile',
    'nav.admin': 'Admin Panel',
    'nav.logout': 'Sign Out',
    'nav.login': 'Sign In',

    // Landing
    'landing.title': 'Active Competitions Today',
    'landing.subtitle': 'Daily close at 21:00 UTC',
    'landing.timeLeft': 'Time remaining',
    'landing.loading': 'Loading competitions...',
    'landing.entry': 'Entry',
    'landing.virtualCapital': 'Virtual capital',
    'landing.participants': 'Participants',
    'landing.prizePool': 'Prize pool',
    'landing.signupBasic': 'JOIN BASIC',
    'landing.signupMedium': 'JOIN MEDIUM',
    'landing.signupPremium': 'JOIN PREMIUM',
    'landing.signupTitle': 'Sign up for',
    'landing.rules': 'Competition Rules',
    'landing.rulesSubtitle': 'Holypot Trading',
    'landing.viewRules': 'View full rules',
    'landing.terms': 'Terms & Conditions',
    'landing.privacy': 'Privacy Policy',
    'landing.rulesLink': 'Competition Rules',
    'landing.footer': 'Skill-based competitions, not gambling. Minimum age 18.',
    'landing.tagline': 'Compete for daily prizes',
    'landing.totalPaid': 'Total prizes paid',
    'landing.winnersTitle': 'Winners',
    'landing.winnersRotate': '(rotates hourly)',
    'landing.noWinners': 'First real winners coming soon',
    'landing.beFirst': 'Be the first to appear here!',

    // How It Works
    'howItWorks.mainTitle': 'How It Works',
    'howItWorks.mainSubtitle': 'Compete on skill, win real prizes in 4 simple steps',
    'howItWorks.step1Title': 'Sign Up',
    'howItWorks.step1Desc': 'Create your account, verify your email and choose your competition level',
    'howItWorks.step2Title': 'Pay & Select Network',
    'howItWorks.step2Desc': 'Choose your USDT network (Polygon, TRC-20 or Ethereum) and pay',
    'howItWorks.step3Title': 'Compete',
    'howItWorks.step3Desc': 'Open trades on currencies, cryptos and commodities in real-time',
    'howItWorks.step4Title': 'Win & Withdraw',
    'howItWorks.step4Desc': 'If you rank in top 3, receive your prize directly to your wallet',
    'howItWorks.featuresTitle': 'Why Holypot?',
    'howItWorks.feature1Title': 'Skill-Based',
    'howItWorks.feature1Desc': 'Not gambling. Win by demonstrating your trading expertise',
    'howItWorks.feature2Title': 'Auditable',
    'howItWorks.feature2Desc': 'All trades and prizes are transparent and verifiable',
    'howItWorks.feature3Title': 'Real Prizes',
    'howItWorks.feature3Desc': 'Win real USDT that transfers directly to your wallet',
    'howItWorks.ctaButton': 'See Active Competitions',

    // Forms
    'form.email': 'Email',
    'form.password': 'Password',
    'form.confirmPassword': 'Confirm password',
    'form.wallet': 'Wallet USDT Polygon (required)',
    'form.nickname': 'Nickname (required â€“ visible in ranking)',
    'form.nicknamePlaceholder': 'e.g. PipKiller',
    'form.fullName': 'Full name (optional)',
    'form.country': 'Country (optional)',
    'form.acceptTerms': 'I accept the',
    'form.termsLink': 'terms and conditions',
    'form.cancel': 'Cancel',
    'form.payAndCompete': 'PAY & COMPETE',
    'form.login': 'SIGN IN',
    'form.loggingIn': 'Signing in...',
    'form.noAccount': "Don't have an account?",
    'form.registerHere': 'Register here',
    'form.loginSubtitle': 'Sign in and compete again',

    // Dashboard
    'dash.level': 'Level',
    'dash.participants': 'Participants',
    'dash.timeLeft': 'Time left',
    'dash.prizePool': 'Prize pool',
    'dash.balance': 'Live balance',
    'dash.aiAdvice': 'AI Tip of the Day (by Grok)',
    'dash.aiAdvicePlaceholder': 'Compete today to get your personalized tip tomorrow',
    'dash.newTrade': 'New Trade',
    'dash.currentPrice': 'Current price',
    'dash.loading': 'Loading...',
    'dash.symbol': 'Symbol',
    'dash.direction': 'Direction',
    'dash.lotSize': 'LotSize',
    'dash.takeProfit': 'Take Profit (optional)',
    'dash.stopLoss': 'Stop Loss (optional)',
    'dash.targetPrice': 'Target price',
    'dash.openTrade': 'OPEN TRADE',
    'dash.viewOnly': 'VIEW ONLY MODE',
    'dash.riskTooHigh': 'RISK TOO HIGH',
    'dash.positions': 'Open Positions',
    'dash.noPositions': 'No open positions â€“ open your first trade',
    'dash.adminNoPositions': 'Admin mode - No active positions',
    'dash.riskTotal': 'Total open risk',
    'dash.ranking': 'Live Ranking Top 10',
    'dash.selectRanking': 'View active competition ranking:',
    'dash.loadingRanking': 'Loading ranking...',
    'dash.adminMode': 'ADMIN MODE - View only. Sign in as user to trade.',
    'dash.viewMode': 'View mode - No active competition',
    'dash.adminNoTrades': 'Cannot open trades in admin mode. Sign in as a regular user.',
    'dash.riskReal': 'REAL Risk',
    'dash.slDistance': 'SL Distance',
    'dash.highRisk': 'High risk!',
    'dash.suggested': 'Suggested',
    'dash.forRisk': 'for',
    'dash.addSL': 'Add Stop Loss to see real risk',
    'dash.calculatingRisk': 'Calculating risk...',
    'dash.chart': 'Chart',
    'dash.live': 'Live',

    // Positions table
    'pos.symbol': 'Symbol',
    'pos.direction': 'Direction',
    'pos.lotSize': 'LotSize (% risk)',
    'pos.entryPrice': 'Entry Price',
    'pos.pnl': 'P&L Live',
    'pos.tp': 'TP (pips)',
    'pos.sl': 'SL (pips)',
    'pos.action': 'Action',
    'pos.edit': 'Edit',
    'pos.close': 'CLOSE',

    // Ranking table
    'rank.spot': 'Spot #',
    'rank.trader': 'Trader',
    'rank.return': 'Return %',
    'rank.capital': 'Live Capital',
    'rank.openPos': 'Open Positions',
    'rank.prize': 'Projected Prize',

    // Profile
    'profile.hello': 'Hello,',
    'profile.position': "You're",
    'profile.inCompetition': 'in your current competition',
    'profile.bestRanking': 'Best historical ranking',
    'profile.bias': 'Trading Bias',
    'profile.ratherBull': 'Rather Bull',
    'profile.ratherBear': 'Rather Bear',
    'profile.buys': 'Buys',
    'profile.sells': 'Sells',
    'profile.totalOps': 'Total Operations',
    'profile.dailyReturn': 'Return by trading day',
    'profile.historySoon': 'Real history coming soon â€“ keep trading!',
    'profile.profitability': 'Profitability',
    'profile.hitRatio': 'Hit ratio',
    'profile.sessionSuccess': 'Success rates by session',
    'profile.topInstruments': 'Most traded instruments',
    'profile.noTrades': 'No trades yet â€“ open your first trade!',
    'profile.history': 'Competition History',
    'profile.noHistory': 'No history yet â€“ compete today!',
    'profile.date': 'Date',
    'profile.level': 'Level',
    'profile.returnPct': 'Return %',
    'profile.positionCol': 'Position',
    'profile.prizeWon': 'Prize Won',
    'profile.loadingProfile': 'Loading profile...',

    // Win modal
    'win.congrats': 'CONGRATULATIONS, YOU WON!',
    'win.position': 'Position',
    'win.inCompetition': 'in competition',
    'win.date': 'Date',
    'win.paymentConfirmed': 'Payment confirmed on blockchain',
    'win.paymentId': 'Payment ID',
    'win.walletMsg': 'The USDT is already in your TRC20 wallet! Check your balance.',
    'win.continue': 'Awesome, keep competing!',

    // Rules
    'rules.title': 'Competition Rules â€“ Holypot Trading ðŸš€',
    'rules.backBtn': 'â† Back to Holypot Trading',
    'rules.type': 'Competition Type',
    'rules.typeDesc': 'Daily 100% skill-based competitions in simulated forex (FX) trading, major pairs, gold, and selected indices. Results depend exclusively on participant skill, strategy, and risk management. No element of chance.',
    'rules.levels': 'Competition Levels',
    'rules.levelsIntro': 'There are three independent daily open levels:',
    'rules.levelsFooter': 'Each level has its own daily competition and independent prize pool, generated exclusively by user registrations.',
    'rules.schedule': 'Daily Schedule (UTC)',
    'rules.schedule_open': 'Opening: 00:00 UTC.',
    'rules.schedule_min': 'Minimum required: 5 paid participants for the competition to activate and be valid.',
    'rules.schedule_last': 'Last registration allowed: 18:00 UTC.',
    'rules.schedule_close': 'Final close: 21:00 UTC.',
    'rules.schedule_rollover': 'If 5 participants are not reached by 18:00 UTC, paid entries are automatically transferred at no additional cost to the same level the next day (rollover). No entry fee refunds.',
    'rules.payment': 'Registration & Payment',
    'rules.paymentDesc': 'Payment is made exclusively in USDT (TRC20 network) through the NOWPayments processor. Once payment is confirmed, registration is final and non-refundable (except for rollover due to minimum not being met).',
    'rules.distribution': 'Prize Pool & Distribution',
    'rules.distributionFormula': 'The prize pool for each level is calculated as: total entries collected âˆ’ platform commission (~10%).',
    'rules.distributionStandard': 'Standard distribution (top 3):',
    'rules.tradingRules': 'Simulated Trading Rules',
    'rules.trading_data': 'Real-time data provided by Finnhub and/or OANDA.',
    'rules.trading_longshort': 'LONG/SHORT operations with exact entry price.',
    'rules.trading_tpsl': 'Take Profit (TP) and Stop Loss (SL) optional and editable.',
    'rules.trading_lotsize': 'Adjustable lot size (live risk percentage).',
    'rules.trading_minclosed': 'Minimum requirement: close at least 1 trade during the competition to appear in the ranking.',
    'rules.calcReturn': 'Return Calculation',
    'rules.calcFormula': 'Return % = (final capital âˆ’ initial capital) / initial capital Ã— 100.',
    'rules.tiebreak': 'Tiebreak Methods (sequential)',
    'rules.tiebreakIntro': 'In case of exact tie in return %:',
    'rules.tiebreak1': 'Lowest average risk used (total sum of lot size or average % risk).',
    'rules.tiebreak2': 'Lowest number of trades executed.',
    'rules.tiebreak3': 'Lowest maximum drawdown (%) during the competition.',
    'rules.tiebreak4': 'Earliest timestamp of paid registration.',
    'rules.prizePayout': 'Prize Payout',
    'rules.prizePayoutDesc': 'Prizes are paid automatically (or manually in initial phase) in USDT to the user\'s wallet immediately after the valid competition closes.',
    'rules.prohibited': 'Prohibited Conduct',
    'rules.prohibitedDesc': 'The use of bots, multiple accounts, collusion, result manipulation or any fraudulent conduct is strictly prohibited. The Platform reserves the right to disqualify participants and withhold prizes in case of non-compliance.',
    'rules.disclaimer': 'These rules are an integral part of the Terms and Conditions of Use of Holypot Trading SAS and may be modified with prior notice.',
    'rules.platformDesc': 'Holypot Trading Platform acts exclusively as a neutral provider of technical infrastructure, impartial arbiter, and escrow payment facilitator. It does not organize or promote competitions directly; it facilitates daily open competitions by level that are generated and activated only when users reach the minimum required number of paid participants.',
    'rules.lastUpdate': 'Last updated: January 25, 2026',

    // Terms and Conditions
    'terms.title': 'Terms and Conditions of Use â€“ Holypot Trading',
    'terms.lastUpdate': 'Last updated: January 25, 2026',
    'terms.backBtn': 'â† Back to Holypot Trading',
    'terms.sec1_title': '1. Acceptance of Terms',
    'terms.sec1_content': 'By registering, accessing or using the Holypot Trading platform (hereinafter, the "Platform"), you agree to be legally bound by these Terms and Conditions. If you do not agree, you may not use the Platform.',
    'terms.sec2_title': '2. Eligibility',
    'terms.sec2_li1': 'You must be at least 18 years of age or the legal age of majority in your jurisdiction.',
    'terms.sec2_li2': 'Residents of countries or territories where paid-entry competitions with cash prizes are prohibited by applicable law are excluded.',
    'terms.sec2_li3': 'The Platform reserves the right to reject or cancel accounts in restricted jurisdictions.',
    'terms.sec3_title': '3. Nature of the Platform',
    'terms.sec3_p1': 'Holypot Trading is a technology platform that enables private simulated forex (FX) trading competitions based predominantly on skill, knowledge and strategy.',
    'terms.sec3_p2': 'The Platform acts exclusively as a provider of technical infrastructure, neutral arbiter and payment facilitator.',
    'terms.sec3_p3': 'This is not gambling. There is no guarantee of profit. User risk is limited to the registration fee.',
    'terms.sec4_title': '4. Registration and Account',
    'terms.sec4_li1': 'You must provide truthful, complete and up-to-date information.',
    'terms.sec4_li2': 'You are responsible for maintaining the confidentiality of your credentials.',
    'terms.sec4_li3': 'The Platform may require identity verification for withdrawals or legal compliance.',
    'terms.sec5_title': '5. Competition Creation, Registration and Rules',
    'terms.sec5_li1': 'Maximum 20 trades/day per user.',
    'terms.sec5_li2': 'LotSize 0.01-1.0 (risk 0.1%-10%).',
    'terms.sec5_li3': 'Market/limit/stop orders.',
    'terms.sec5_li4': 'Active competition with minimum 5 participants.',
    'terms.sec5_li5': 'Bots, multi-accounts, collusion or fraud prohibited.',
    'terms.sec6_title': '6. Platform Commission and Prize Distribution',
    'terms.sec6_li1': 'Platform commission 8-10% on total entry fees.',
    'terms.sec6_li2': 'Remaining prize pool: 1st 50%, 2nd 30%, 3rd 20%.',
    'terms.sec6_li3': 'Real USDT TRC20 prizes sent directly to wallet â€“ same day as close.',
    'terms.sec7_title': '7. User Responsibility',
    'terms.sec7_content': 'Comply with local laws. Winners declare and pay applicable taxes.',
    'terms.sec8_title': '8. Withdrawals',
    'terms.sec8_content': 'Processed via enabled methods. Minimum withdrawal + external fees. Additional verification possible.',
    'terms.sec9_title': '9. Limitation of Liability',
    'terms.sec9_content': 'Platform provided "as is" without warranties. Maximum liability limited to fees paid in the last 30 days.',
    'terms.sec10_title': '10. Intellectual Property',
    'terms.sec10_content': 'All content, software, trademarks and design are the exclusive property of Holypot Trading.',
    'terms.sec11_title': '11. Termination and Suspension',
    'terms.sec11_content': 'Account suspension/closure for breach, fraud or legal risk.',
    'terms.sec12_title': '12. Governing Law and Jurisdiction',
    'terms.sec12_content': 'Laws of the Republic of Colombia. Courts of Pereira, Risaralda.',
    'terms.sec13_title': '13. Modifications',
    'terms.sec13_content': 'Modifications notified 15 days in advance by email/platform.',

    // Privacy Policy
    'privacy.title': 'Privacy Policy â€“ Holypot Trading',
    'privacy.lastUpdate': 'Last updated: January 25, 2026',
    'privacy.backBtn': 'â† Back to Holypot Trading',
    'privacy.sec1_title': '1. Information We Collect',
    'privacy.sec1_li1': 'Registration data: email, password, TRC20 wallet, nickname, date of birth (age verification 18+).',
    'privacy.sec1_li2': 'Transaction data: registration history, trades, payouts.',
    'privacy.sec1_li3': 'Technical data: IP, device, browser (service improvement and security).',
    'privacy.sec1_li4': 'Optional KYC data: identity document (only for large withdrawals or legal requirement).',
    'privacy.sec2_title': '2. Processing Purpose',
    'privacy.sec2_li1': 'Provide platform service (registrations, simulated trading, real payouts).',
    'privacy.sec2_li2': 'Comply with legal obligations (AML, tax reporting if applicable).',
    'privacy.sec2_li3': 'Improve experience and security (usage analysis, fraud prevention).',
    'privacy.sec2_li4': 'Operational communications (payment confirmation, competition results).',
    'privacy.sec2_li5': 'No marketing without express consent.',
    'privacy.sec3_title': '3. Legal Basis',
    'privacy.sec3_content': 'Contract performance (Terms of Use), legal compliance and user consent.',
    'privacy.sec4_title': '4. Data Sharing',
    'privacy.sec4_intro': 'We only share with:',
    'privacy.sec4_li1': 'Payment processors (NOWPayments) and technical providers.',
    'privacy.sec4_li2': 'Authorities when required by law.',
    'privacy.sec5_title': '5. Security',
    'privacy.sec5_content': 'SSL, sensitive data encryption, restricted access, constant monitoring.',
    'privacy.sec6_title': '6. Data Subject Rights',
    'privacy.sec6_content': 'Access, rectification, deletion, consent withdrawal. Send request to soporte@holypottrading.com.',
    'privacy.sec7_title': '7. International Transfers',
    'privacy.sec7_content': 'Providers (AWS, NOWPayments) outside Colombia â€“ equivalent GDPR-like protection standards.',
    'privacy.sec8_title': '8. Policy Changes',
    'privacy.sec8_content': 'We will notify modifications in advance by email or platform.',

    // Admin
    'admin.title': 'Holypot Admin Panel',
    'admin.totalSignups': 'Total Signups',
    'admin.revenue': 'Platform Revenue',
    'admin.totalPool': 'Total Prize Pool',
    'admin.competitions': 'Competitions',
    'admin.users': 'Users',
    'admin.payouts': 'Payouts',
    'admin.exportCSV': 'Export CSV top 3 payments',
    'admin.viewAsUser': 'View as user',
    'admin.noPayouts': 'No payouts yet â€“ wait for first competitions!',
    'admin.loadingAdmin': 'Loading admin panel...',
    'admin.noData': 'No data available â€“ session expired or connection error',
    'admin.userList': 'Complete user list (live capital)',
    'admin.payoutsHistory': 'Payouts History (prizes paid)',

    // Common
    'common.usdt': 'USDT',
  }
};

const I18nContext = createContext();

export function I18nProvider({ children }) {
  const [lang, setLang] = useState(() => {
    return localStorage.getItem('holypotLang') || 'es';
  });

  const t = useCallback((key) => {
    return translations[lang]?.[key] || translations['es']?.[key] || key;
  }, [lang]);

  const toggleLang = useCallback(() => {
    setLang(prev => {
      const next = prev === 'es' ? 'en' : 'es';
      localStorage.setItem('holypotLang', next);
      return next;
    });
  }, []);

  const setLanguage = useCallback((newLang) => {
    localStorage.setItem('holypotLang', newLang);
    setLang(newLang);
  }, []);

  return (
    <I18nContext.Provider value={{ t, lang, toggleLang, setLanguage }}>
      {children}
    </I18nContext.Provider>
  );
}

export function useI18n() {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useI18n must be used within I18nProvider');
  return ctx;
}

export function LanguageToggle({ className = '' }) {
  const { lang, toggleLang } = useI18n();

  return (
    <button
      onClick={toggleLang}
      className={`flex items-center gap-2 px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 border border-white/30 text-white text-xs font-bold transition-all ${className}`}
      title={lang === 'es' ? 'Switch to English' : 'Cambiar a EspaÃ±ol'}
    >
      <span className={`px-2 py-1 rounded ${lang === 'es' ? 'bg-white/20' : 'opacity-60'}`}>ES</span>
      <span className="opacity-40">|</span>
      <span className={`px-2 py-1 rounded ${lang === 'en' ? 'bg-white/20' : 'opacity-60'}`}>EN</span>
    </button>
  );
}
